# üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç CodeLearn ‚Äî –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–≠—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ —Ç–æ–º, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –ø—Ä–æ–µ–∫—Ç –∏–∑–Ω—É—Ç—Ä–∏.

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#1-–æ–±—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [Docker –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã](#2-docker-–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã)
3. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#3-–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
4. [Backend (Express.js)](#4-backend-expressjs)
5. [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)](#5-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-jwt)
6. [–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ (Piston)](#6-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ-–∫–æ–¥–∞-piston)
7. [–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ XP](#7-—Å–∏—Å—Ç–µ–º–∞-–ø—Ä–æ–≥—Ä–µ—Å—Å–∞-–∏-xp)
8. [Frontend](#8-frontend)
9. [–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å](#9-–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)
10. [–ó–∞–ø—Ä–æ—Å—ã: –æ—Ç –∫–ª–∏–∫–∞ –¥–æ –æ—Ç–≤–µ—Ç–∞](#10-–∑–∞–ø—Ä–æ—Å—ã-–æ—Ç-–∫–ª–∏–∫–∞-–¥–æ-–æ—Ç–≤–µ—Ç–∞)

---

## 1. –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        –ö–õ–ò–ï–ù–¢                               ‚îÇ
‚îÇ                   (–ë—Ä–∞—É–∑–µ—Ä, –ø–æ—Ä—Ç 3000)                      ‚îÇ
‚îÇ        HTML/CSS/JS ‚Üí fetch() ‚Üí /api/*                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    DOCKER COMPOSE                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  PostgreSQL ‚îÇ  ‚îÇ   Piston    ‚îÇ  ‚îÇ    Node.js App      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   (–ë–î)      ‚îÇ  ‚îÇ (–ö–æ–¥)       ‚îÇ  ‚îÇ   (Express.js)      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  :5432      ‚îÇ  ‚îÇ  :2358      ‚îÇ  ‚îÇ      :3000          ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–¢—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**
- **PostgreSQL** ‚Äî —Ö—Ä–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫—É—Ä—Å—ã, –∑–∞–¥–∞–Ω–∏—è, –ø—Ä–æ–≥—Ä–µ—Å—Å
- **Piston** ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ –Ω–∞ Python/JS/C++/Java –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ
- **Node.js App** ‚Äî API —Å–µ—Ä–≤–µ—Ä + —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)

---

## 2. Docker –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### docker-compose.yml

```yaml
services:
  postgres:        # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  piston:          # –î–≤–∏–∂–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞
  piston-setup:    # –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —è–∑—ã–∫–æ–≤ (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)
  app:             # –ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **postgres** ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º, –∂–¥—ë—Ç healthcheck
2. **piston** ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ–±—è —á–µ—Ä–µ–∑ healthcheck
3. **piston-setup** ‚Äî –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ piston —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —è–∑—ã–∫–∏:
   - Python 3.10
   - Node.js 18.15
   - GCC 10.2 (C/C++)
   - Java 15
4. **app** ‚Äî —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø–æ—Å–ª–µ postgres –∏ piston

### –í–∞–∂–Ω—ã–µ volumes:
```yaml
volumes:
  - ./database/schema.sql:/docker-entrypoint-initdb.d/01-schema.sql
  - ./database/seed.sql:/docker-entrypoint-initdb.d/02-seed.sql
```
PostgreSQL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç SQL —Ñ–∞–π–ª—ã –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (—Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—ã –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ).

---

## 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ (database/schema.sql)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   USERS     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id (UUID)   ‚îÇ
‚îÇ email       ‚îÇ
‚îÇ username    ‚îÇ
‚îÇ password_hash‚îÇ
‚îÇ role        ‚îÇ  ‚Üê 'user' –∏–ª–∏ 'admin'
‚îÇ xp          ‚îÇ
‚îÇ created_at  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îÇ 1:N
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  COURSES    ‚îÇ 1:N   ‚îÇ   LEVELS    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id          ‚îÇ       ‚îÇ id          ‚îÇ
‚îÇ title       ‚îÇ       ‚îÇ course_id   ‚îÇ ‚Üê FK
‚îÇ language    ‚îÇ       ‚îÇ order_index ‚îÇ ‚Üê –ø–æ—Ä—è–¥–æ–∫ –≤ –∫—É—Ä—Å–µ
‚îÇ difficulty  ‚îÇ       ‚îÇ title       ‚îÇ
‚îÇ description ‚îÇ       ‚îÇ theory_content‚îÇ ‚Üê —Ç–µ–æ—Ä–∏—è (Markdown)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ xp_reward   ‚îÇ
                      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                             ‚îÇ 1:1
                             ‚ñº
                      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                      ‚îÇ CHALLENGES  ‚îÇ
                      ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
                      ‚îÇ id          ‚îÇ
                      ‚îÇ level_id    ‚îÇ ‚Üê FK (–æ–¥–∏–Ω –Ω–∞ —É—Ä–æ–≤–µ–Ω—å)
                      ‚îÇ description ‚îÇ ‚Üê –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
                      ‚îÇ starter_code‚îÇ ‚Üê –Ω–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥
                      ‚îÇ expected_output‚îÇ ‚Üê –æ–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥
                      ‚îÇ test_input  ‚îÇ ‚Üê stdin –¥–ª—è —Ç–µ—Å—Ç–∞
                      ‚îÇ language_id ‚îÇ ‚Üê Judge0 ID —è–∑—ã–∫–∞
                      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  USER_PROGRESS  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ user_id (FK)    ‚îÇ
‚îÇ level_id (FK)   ‚îÇ
‚îÇ status          ‚îÇ ‚Üê 'locked', 'available', 'completed'
‚îÇ attempts        ‚îÇ
‚îÇ completed_at    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SUBMISSIONS    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ user_id (FK)    ‚îÇ
‚îÇ challenge_id    ‚îÇ
‚îÇ code            ‚îÇ ‚Üê –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥
‚îÇ status          ‚îÇ ‚Üê 'Accepted', 'Wrong Answer', etc.
‚îÇ stdout          ‚îÇ ‚Üê –≤—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚îÇ stderr          ‚îÇ ‚Üê –æ—à–∏–±–∫–∏
‚îÇ is_correct      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Language IDs (–∏–∑ Judge0, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
| ID | –Ø–∑—ã–∫ |
|----|------|
| 71 | Python 3 |
| 63 | JavaScript (Node.js) |
| 54 | C++ |
| 50 | C |
| 62 | Java |

---

## 4. Backend (Express.js)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

```
src/
‚îú‚îÄ‚îÄ app.js              # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Express (middleware)
‚îú‚îÄ‚îÄ server.js           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞)
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ database.js     # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ jwt.js          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ JWT
‚îÇ   ‚îî‚îÄ‚îÄ piston.js       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Piston
‚îú‚îÄ‚îÄ routes/             # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ endpoints
‚îú‚îÄ‚îÄ controllers/        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ services/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ repositories/       # SQL –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
‚îú‚îÄ‚îÄ middleware/         # auth, validation, errors
‚îî‚îÄ‚îÄ utils/              # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

### –ö–∞–∫ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É

```
HTTP Request
     ‚îÇ
     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    app.js       ‚îÇ  ‚Üê middleware: helmet, cors, morgan, json parser
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   routes/       ‚îÇ  ‚Üê –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫–æ–π controller –≤—ã–∑–≤–∞—Ç—å
‚îÇ   index.js      ‚îÇ     /api/auth ‚Üí authRoutes
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     /api/courses ‚Üí coursesRoutes
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  controllers/   ‚îÇ  ‚Üê –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ req, –≤—ã–∑—ã–≤–∞–µ—Ç service
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   services/     ‚îÇ  ‚Üê –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ repositories/   ‚îÇ  ‚Üê SQL –∑–∞–ø—Ä–æ—Å—ã
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   PostgreSQL    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Middleware —Å—Ç–µ–∫ (app.js)

```javascript
app.use(helmet());       // –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å HTTP headers
app.use(cors());         // –†–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å –¥—Ä—É–≥–∏—Ö –¥–æ–º–µ–Ω–æ–≤
app.use(morgan('dev'));  // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
app.use(express.json()); // –ü–∞—Ä—Å–∏–Ω–≥ JSON body
app.use(express.static('public')); // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
app.use('/api', routes); // API —Ä–æ—É—Ç—ã
app.use(errorHandler);   // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```

---

## 5. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

```
1. POST /api/auth/register { email, username, password }
                ‚îÇ
                ‚ñº
2. auth.controller.js ‚Üí authService.register()
                ‚îÇ
                ‚ñº
3. auth.service.js:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: email —É–∂–µ –µ—Å—Ç—å?
   - bcrypt.hash(password, 12) ‚Üí —Ö–µ—à –ø–∞—Ä–æ–ª—è
   - userRepository.create() ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î
   - generateToken(user) ‚Üí —Å–æ–∑–¥–∞—Ç—å JWT
                ‚îÇ
                ‚ñº
4. Response: { user, token }
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–≥–∏–Ω

```
1. POST /api/auth/login { email, password }
                ‚îÇ
                ‚ñº
2. –ù–∞–π—Ç–∏ user –ø–æ email –≤ –ë–î
3. bcrypt.compare(password, user.password_hash)
4. –ï—Å–ª–∏ –æ–∫ ‚Üí generateToken(user)
5. Response: { user, token }
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JWT —Ç–æ–∫–µ–Ω–∞

```javascript
// Payload (–¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ —Ç–æ–∫–µ–Ω–∞)
{
  id: "uuid...",
  email: "user@example.com",
  username: "user123",
  role: "user"  // –∏–ª–∏ "admin"
}
```

–¢–æ–∫–µ–Ω –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º (JWT_SECRET). –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: 7 –¥–Ω–µ–π.

### Middleware auth

```javascript
// middleware/auth.js
const auth = (req, res, next) => {
    // 1. –î–æ—Å—Ç–∞—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ header: "Bearer <token>"
    const token = req.headers.authorization.split(' ')[1];
    
    // 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å
    const decoded = jwt.verify(token, secret);
    
    // 3. –ü–æ–ª–æ–∂–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ req.user
    req.user = decoded;
    
    next();
};
```

–¢–µ–ø–µ—Ä—å –≤ –ª—é–±–æ–º –∑–∞—â–∏—â—ë–Ω–Ω–æ–º route –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å `req.user.id`, `req.user.role`.

---

## 6. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ (Piston)

### –ß—Ç–æ —Ç–∞–∫–æ–µ Piston?

Piston ‚Äî —ç—Ç–æ API –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞. –ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø–∞–º—è—Ç–∏.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –∫–æ–¥ –∏ –Ω–∞–∂–∏–º–∞–µ—Ç "Run"
           ‚îÇ
           ‚ñº
2. POST /api/submissions { challengeId, code }
           ‚îÇ
           ‚ñº
3. submissions.controller.js ‚Üí codeExecutionService.submitCode()
           ‚îÇ
           ‚ñº
4. codeExecution.service.js:
   
   a) –ü–æ–ª—É—á–∏—Ç—å challenge –∏–∑ –ë–î (expected_output, test_input)
   
   b) –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —è–∑—ã–∫ –ø–æ language_id:
      71 ‚Üí { language: 'python', version: '3.10.0', filename: 'main.py' }
      63 ‚Üí { language: 'javascript', version: '18.15.0', filename: 'main.js' }
      54 ‚Üí { language: 'c++', version: '10.2.0', filename: 'main.cpp' }
      ...
   
   c) –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Piston:
      POST http://piston:2000/api/v2/execute
      {
        language: "python",
        version: "3.10.0",
        files: [{ name: "main.py", content: "print('Hello')" }],
        stdin: "test input",
        compile_timeout: 3000,
        run_timeout: 3000
      }
   
   d) –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç Piston:
      {
        run: { stdout: "Hello\n", stderr: "" },
        compile: { ... }
      }
   
   e) –°—Ä–∞–≤–Ω–∏—Ç—å stdout —Å expected_output
   
   f) –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç ‚Üí completeLevel() ‚Üí +XP, —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥. —É—Ä–æ–≤–µ–Ω—å
   
   g) –°–æ—Ö—Ä–∞–Ω–∏—Ç—å submission –≤ –ë–î
           ‚îÇ
           ‚ñº
5. Response: { isCorrect, stdout, stderr, xpAwarded, ... }
```

### –°—Ç–∞—Ç—É—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –°—Ç–∞—Ç—É—Å | –ö–æ–≥–¥–∞ |
|--------|-------|
| Accepted | stdout === expected_output |
| Wrong Answer | stdout !== expected_output |
| Compilation Error | compile.code !== 0 (—Ç–æ–ª—å–∫–æ C++/Java) |
| Runtime Error | stderr –Ω–µ –ø—É—Å—Ç–æ–π |

---

## 7. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ XP

### –°–æ—Å—Ç–æ—è–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π

```
locked ‚Üí available ‚Üí completed
  ‚îÇ          ‚îÇ           ‚îÇ
  ‚îÇ          ‚îÇ           ‚îî‚îÄ‚îÄ –ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
  ‚îÇ          ‚îî‚îÄ‚îÄ –ú–æ–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å
  ‚îî‚îÄ‚îÄ –ü—Ä–µ–¥—ã–¥—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –Ω–µ –ø—Ä–æ–π–¥–µ–Ω
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å

```javascript
// progress.service.js

async completeLevel(userId, levelId) {
    // 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ –ø—Ä–æ–π–¥–µ–Ω –ª–∏ —É–∂–µ
    const progress = await progressRepository.findByUserAndLevel(userId, levelId);
    if (progress?.status === 'completed') {
        return { alreadyCompleted: true, xpAwarded: 0 };
    }
    
    // 2. –ü–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–π
    await progressRepository.markCompleted(userId, levelId);
    
    // 3. –ù–∞—á–∏—Å–ª–∏—Ç—å XP
    await userRepository.updateXp(userId, level.xp_reward);
    
    // 4. –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å
    const nextLevel = await levelRepository.getNextLevel(courseId, orderIndex);
    if (nextLevel) {
        await progressRepository.create(userId, nextLevel.id, 'available');
    }
}
```

### XP –∏ —É—Ä–æ–≤–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```javascript
// utils/xpCalculator.js

// XP –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è: level^2 * 100
function calculateLevel(xp) {
    return Math.floor(Math.sqrt(xp / 100)) + 1;
}

// –£—Ä–æ–≤–Ω–∏:
// Level 1: 0-99 XP
// Level 2: 100-399 XP
// Level 3: 400-899 XP
// Level 4: 900+ XP
```

---

## 8. Frontend

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (public/)

```
public/
‚îú‚îÄ‚îÄ index.html      # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Å–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤)
‚îú‚îÄ‚îÄ course.html     # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫—É—Ä—Å–∞ (roadmap)
‚îú‚îÄ‚îÄ level.html      # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Ä–æ–≤–Ω—è (—Ç–µ–æ—Ä–∏—è + –∫–æ–¥)
‚îú‚îÄ‚îÄ login.html      # –í—Ö–æ–¥
‚îú‚îÄ‚îÄ register.html   # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ leaderboard.html# –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ admin.html      # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îú‚îÄ‚îÄ style.css   # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ pages.css   # –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îî‚îÄ‚îÄ admin.css   # –°—Ç–∏–ª–∏ –∞–¥–º–∏–Ω–∫–∏
‚îî‚îÄ‚îÄ js/
    ‚îú‚îÄ‚îÄ api.js      # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
    ‚îú‚îÄ‚îÄ auth.js     # –†–∞–±–æ—Ç–∞ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
    ‚îú‚îÄ‚îÄ main.js     # –õ–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
    ‚îî‚îÄ‚îÄ admin.js    # –õ–æ–≥–∏–∫–∞ –∞–¥–º–∏–Ω–∫–∏
```

### API –º–æ–¥—É–ª—å (js/api.js)

```javascript
const API = {
    baseUrl: '/api',
    
    // –î–æ–±–∞–≤–ª—è–µ—Ç JWT —Ç–æ–∫–µ–Ω –∫ –∑–∞–ø—Ä–æ—Å–∞–º
    getHeaders() {
        const token = localStorage.getItem('token');
        return {
            'Content-Type': 'application/json',
            ...(token && { 'Authorization': `Bearer ${token}` })
        };
    },
    
    async get(endpoint) {
        const res = await fetch(this.baseUrl + endpoint, {
            headers: this.getHeaders()
        });
        return res.json();
    },
    
    async post(endpoint, data) {
        const res = await fetch(this.baseUrl + endpoint, {
            method: 'POST',
            headers: this.getHeaders(),
            body: JSON.stringify(data)
        });
        return res.json();
    }
};
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ (js/auth.js)

```javascript
// –ü—Ä–∏ –ª–æ–≥–∏–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–∫–µ–Ω
localStorage.setItem('token', data.token);
localStorage.setItem('user', JSON.stringify(data.user));

// –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ —É–¥–∞–ª—è–µ–º
localStorage.removeItem('token');
localStorage.removeItem('user');

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
const token = localStorage.getItem('token');
if (!token) {
    window.location.href = '/login.html';
}
```

---

## 9. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

### –î–æ—Å—Ç—É–ø

- URL: `/admin.html`
- –¢—Ä–µ–±—É–µ—Ç—Å—è: role = 'admin' –≤ —Ç–æ–∫–µ–Ω–µ

### –§—É–Ω–∫—Ü–∏–∏

1. **Dashboard** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫—É—Ä—Å—ã, submissions)
2. **Courses** ‚Äî CRUD –∫—É—Ä—Å–æ–≤
3. **Levels** ‚Äî CRUD —É—Ä–æ–≤–Ω–µ–π (—Ç–µ–æ—Ä–∏—è + –∑–∞–¥–∞–Ω–∏—è)
4. **Users** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Å–º–µ–Ω–∞ —Ä–æ–ª–µ–π

### Middleware –∑–∞—â–∏—Ç—ã

```javascript
// middleware/auth.js
const requireAdmin = (req, res, next) => {
    if (req.user.role !== 'admin') {
        return next(ApiError.forbidden('Admin access required'));
    }
    next();
};

// routes/admin.routes.js
router.use(auth);           // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
router.use(requireAdmin);   // –ü–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏
```

---

## 10. –ó–∞–ø—Ä–æ—Å—ã: –æ—Ç –∫–ª–∏–∫–∞ –¥–æ –æ—Ç–≤–µ—Ç–∞

### –ü—Ä–∏–º–µ—Ä: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏

```
1. [Frontend] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–¥"
   ‚îÇ
   ‚ñº
2. [Frontend] js/main.js ‚Üí submitCode()
   ‚îÇ  API.post('/submissions', { challengeId, code })
   ‚îÇ
   ‚ñº
3. [Backend] POST /api/submissions
   ‚îÇ  Route: submissions.routes.js
   ‚îÇ  
   ‚îÇ  Middleware chain:
   ‚îÇ  ‚îú‚îÄ‚îÄ auth ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT, –¥–æ—Å—Ç–∞—ë–º user.id
   ‚îÇ  ‚îú‚îÄ‚îÄ body('challengeId').isUUID() ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è
   ‚îÇ  ‚îî‚îÄ‚îÄ validate ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   ‚îÇ
   ‚ñº
4. [Backend] submissions.controller.js
   ‚îÇ  const { challengeId, code } = req.body;
   ‚îÇ  const userId = req.user.id;
   ‚îÇ  await codeExecutionService.submitCode(userId, challengeId, code)
   ‚îÇ
   ‚ñº
5. [Backend] codeExecution.service.js
   ‚îÇ  ‚îú‚îÄ‚îÄ –ü–æ–ª—É—á–∏—Ç—å challenge –∏–∑ –ë–î
   ‚îÇ  ‚îú‚îÄ‚îÄ Increment attempts
   ‚îÇ  ‚îú‚îÄ‚îÄ POST ‚Üí Piston API (execute code)
   ‚îÇ  ‚îú‚îÄ‚îÄ –°—Ä–∞–≤–Ω–∏—Ç—å output
   ‚îÇ  ‚îú‚îÄ‚îÄ –ï—Å–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Üí completeLevel()
   ‚îÇ  ‚îî‚îÄ‚îÄ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å submission
   ‚îÇ
   ‚ñº
6. [Piston] –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ sandbox
   ‚îÇ  ‚îú‚îÄ‚îÄ –ö–æ–º–ø–∏–ª—è—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   ‚îÇ  ‚îú‚îÄ‚îÄ –ó–∞–ø—É—Å–∫ —Å stdin
   ‚îÇ  ‚îî‚îÄ‚îÄ –í–æ–∑–≤—Ä–∞—Ç stdout/stderr
   ‚îÇ
   ‚ñº
7. [Backend] Response
   {
     success: true,
     data: {
       isCorrect: true,
       status: { description: "Accepted" },
       stdout: "Hello World",
       xpAwarded: 10,
       nextLevelId: "uuid..."
     }
   }
   ‚îÇ
   ‚ñº
8. [Frontend] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞
   ‚îú‚îÄ‚îÄ –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∑–µ–ª—ë–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π)
   ‚îú‚îÄ‚îÄ –û–±–Ω–æ–≤–∏—Ç—å XP –≤ header
   ‚îî‚îÄ‚îÄ –ï—Å–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Üí –∫–Ω–æ–ø–∫–∞ "–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å"
```

---

## üîë –í–∞–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------------|----------|--------|
| `PORT` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | 3000 |
| `DB_HOST` | –•–æ—Å—Ç PostgreSQL | postgres (–≤ Docker) |
| `DB_NAME` | –ò–º—è –±–∞–∑—ã | codelearn |
| `JWT_SECRET` | –°–µ–∫—Ä–µ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ —Ç–æ–∫–µ–Ω–æ–≤ | your-secret-key |
| `JWT_EXPIRES_IN` | –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞ | 7d |

---

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë
docker-compose up -d

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker-compose logs -f app

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
docker-compose build app && docker-compose up -d app

# –°–±—Ä–æ—Å–∏—Ç—å –ë–î (–ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è)
docker-compose down -v && docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL
docker exec -it codelearn-db psql -U postgres -d codelearn
```

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Piston —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
curl http://localhost:2358/api/v2/runtimes
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
curl http://localhost:3000/api/health
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —è–∑—ã–∫–∏ –≤ Piston
```bash
curl http://localhost:2358/api/v2/runtimes | jq '.[] | {language, version}'
```

### –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ Piston
```bash
curl -X POST http://localhost:2358/api/v2/execute \
  -H "Content-Type: application/json" \
  -d '{
    "language": "python",
    "version": "3.10.0",
    "files": [{"name": "main.py", "content": "print(\"Hello!\")"}]
  }'
```

---

## üìù –ê–¥–º–∏–Ω –¥–æ—Å—Ç—É–ø

- **Email:** admin@codelearn.com
- **Password:** admin123

–°–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `database/seed.sql`.
